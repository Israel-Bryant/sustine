<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.Insets?>

<!--
    SUPORTE CASAS PEDRO - Tela de Login
-->

<StackPane xmlns:fx="http://javafx.com/fxml"
           fx:controller="com.casaspedro.suporte.controllers.LoginController"
           styleClass="login-root"
           prefWidth="1280" prefHeight="800"
           stylesheets="@../css/theme.css">

    <!-- Background gradient -->
    <VBox styleClass="login-background" alignment="CENTER">
        
        <!-- Card de Login -->
        <VBox fx:id="loginCard" styleClass="login-card" alignment="CENTER" spacing="24" maxWidth="400">
            <padding>
                <Insets top="48" right="48" bottom="48" left="48"/>
            </padding>
            
            <!-- Logo -->
            <ImageView fx:id="logoImage" fitWidth="80" fitHeight="80" preserveRatio="true"/>
            
            <!-- Título -->
            <VBox alignment="CENTER" spacing="4">
                <Label text="Suporte Casas Pedro" styleClass="login-title"/>
                <Label text="Entre com sua conta do domínio" styleClass="login-subtitle"/>
            </VBox>
            
            <!-- Formulário -->
            <VBox spacing="16" alignment="CENTER">
                
                <!-- Campo Usuário -->
                <VBox spacing="6" alignment="CENTER_LEFT">
                    <Label text="Usuário" styleClass="field-label"/>
                    <TextField fx:id="usernameField" 
                               styleClass="login-field"
                               promptText="seu.usuario"
                               prefWidth="304"/>
                </VBox>
                
                <!-- Campo Senha -->
                <VBox spacing="6" alignment="CENTER_LEFT">
                    <Label text="Senha" styleClass="field-label"/>
                    <PasswordField fx:id="passwordField" 
                                   styleClass="login-field"
                                   promptText="••••••••"
                                   prefWidth="304"/>
                </VBox>
                
                <!-- Erro -->
                <Label fx:id="errorLabel" 
                       styleClass="login-error" 
                       visible="false" managed="false"
                       wrapText="true" maxWidth="304"/>
                
                <!-- Botão Login -->
                <Button fx:id="btnLogin" 
                        text="Entrar" 
                        styleClass="login-button"
                        onAction="#onLogin"
                        prefWidth="304"/>
                
                <!-- Loading -->
                <HBox fx:id="loadingBox" alignment="CENTER" spacing="8" visible="false" managed="false">
                    <ProgressIndicator fx:id="loadingSpinner" prefWidth="20" prefHeight="20"/>
                    <Label text="Verificando credenciais..." styleClass="loading-text"/>
                </HBox>
                
            </VBox>
            
            <!-- Footer -->
            <Label text="Autenticação via Active Directory" styleClass="login-footer"/>
            
        </VBox>
        
    </VBox>
    
</StackPane>
